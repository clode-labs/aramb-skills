{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["id", "name", "version", "description", "llm_config"],
  "properties": {
    "id": {
      "type": "string",
      "pattern": "^[a-z0-9-]+$",
      "description": "Unique identifier for the skill"
    },
    "name": {
      "type": "string",
      "description": "Human-readable name"
    },
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "description": "Semantic version (e.g., 1.0.0)"
    },
    "description": {
      "type": "string",
      "description": "What this skill does"
    },
    "category": {
      "type": "string",
      "enum": ["development", "testing", "review", "documentation", "deployment", "analysis"],
      "description": "Skill category"
    },
    "tags": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Tags for categorization and search"
    },
    "tools": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Tools available to the agent (e.g., file_edit, bash, search)"
    },
    "system_prompt": {
      "type": "string",
      "description": "System-level instructions for the LLM"
    },
    "llm_config": {
      "type": "object",
      "required": ["preferred_provider"],
      "properties": {
        "preferred_provider": {
          "type": "string",
          "description": "Primary LLM provider (e.g., anthropic, openai, gemini)"
        },
        "fallback_providers": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Backup providers if primary fails"
        },
        "parameters": {
          "type": "object",
          "properties": {
            "model": { "type": "string" },
            "max_tokens": { "type": "integer" },
            "temperature": { "type": "number" }
          }
        }
      }
    },
    "dependencies": {
      "type": "object",
      "properties": {
        "runtime": {
          "type": "array",
          "items": { "type": "string" }
        },
        "packages": {
          "type": "array",
          "items": { "type": "string" }
        }
      }
    },
    "validation_rules": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Post-execution validation checks"
    },
    "output_structure": {
      "type": "object",
      "description": "Expected output format"
    },
    "timeout_seconds": {
      "type": "integer",
      "default": 3600,
      "description": "Maximum execution time"
    },
    "metadata": {
      "type": "object",
      "description": "Additional metadata"
    }
  }
}
